@model BusinessObjects.Item

@{
	ViewBag.Title = "ModifyItem";
}

<head>
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800" rel="stylesheet">
	<link rel="stylesheet" href="/Content/css/open-iconic-bootstrap.min.css">
	<link rel="stylesheet" href="/Content/css/animate.css">
	<link rel="stylesheet" href="/Content/css/owl.carousel.min.css">
	<link rel="stylesheet" href="/Content/css/owl.theme.default.min.css">
	<link rel="stylesheet" href="/Content/css/magnific-popup.css">
	<link rel="stylesheet" href="/Content/css/aos.css">
	<link rel="stylesheet" href="/Content/css/ionicons.min.css">
	<link rel="stylesheet" href="/Content/css/bootstrap-datepicker.css">
	<link rel="stylesheet" href="/Content/css/jquery.timepicker.css">
	<link rel="stylesheet" href="/Content/css/flaticon.css">
	<link rel="stylesheet" href="/Content/css/icomoon.css">
	<link rel="stylesheet" href="/Content/css/style.css">
</head>


<body>

	@using (Html.BeginForm("ModifyItem", "Admin", FormMethod.Post, new { enctype = "multipart/form-data" }))
	{
		@Html.AntiForgeryToken()
		@Html.ValidationSummary(true, "", new { @class = "text-danger" })
		@Html.HiddenFor(model => model.Id)

		<!-- The top banner of the page-->
		<div class="hero-wrap hero-bread" style="background-image: url('/Content/images/bg_6.jpg');">
			<div class="container">
				<div class="row no-gutters slider-text align-items-center justify-content-center">
					<div class="col-md-9 ftco-animate text-center">
						<p class="breadcrumbs"><span>Edit the following product</span></p>
						<h1 class="mb-0 bread">@Model.Name</h1>
					</div>
				</div>
			</div>
		</div>

		<div class="container" style="margin-top:1%">
			<div class="row product-details">
				<!-- What follows next is the sidebar, which probably could be inserted into eperate file and reused in all of the panels-->
				<!-- Sidebar spacing is always 2 space lg-4  -->
				<div class="col-md-2 col-lg-2 sidebar">
					<div class="sidebar-box-2">
						<h2 class="heading mb-4"><a href="@Url.Action("Index", "Admin")">Items in shop</a></h2>
						<ul>
							<li><a href="@Url.Action("ItemManagement", "Admin")">Import Items</a></li>
							<li><a href="@Url.Action("", "Admin")">Export Items</a> [0.4 Release]</li> 
							<li><a href="@Url.Action("CreateItem", "Admin")">Create New Item</a></li>
							<li><a href="@Url.Action("Properties", "Admin")">Categories List</a></li>
							<li><a href="@Url.Action("Categories", "Admin")">(---) Sub-Categories List</a></li>
						</ul>
					</div>
					<div class="sidebar-box-2">
						<h2 class="heading mb-4"><a href="#">System Users</a></h2>
						<ul>
							<li><a href="@Url.Action("CreateItem", "Admin")">Import &amp; Items</a></li>
							<li><a href="#">Dresses</a></li>
							<li><a href="#">Shorts &amp; Skirts</a></li>
							<li><a href="#">Jackets</a></li>
							<li><a href="#">Coats</a></li>
							<li><a href="#">Jeans</a></li>
						</ul>
					</div>
					<div class="sidebar-box-2">
						<h2 class="heading mb-4"><a href="#">Shoes</a></h2>
						<ul>
							<li><a href="#">Nike</a></li>
							<li><a href="#">Addidas</a></li>
							<li><a href="#">Skechers</a></li>
							<li><a href="#">Jackets</a></li>
							<li><a href="#">Coats</a></li>
							<li><a href="#">Jeans</a></li>
						</ul>
					</div>
				</div>


				<!-- Image section here -->
				<div class="col-lg-4 col-md-4 ftco-animate container">
					<div style="text-align: center;">
						@if (Model.ImageUrl != null)
						{
							<a href="@Url.Content(Model.ImageUrl)" class="image-popup"><img src="@Url.Content(Model.ImageUrl)" class="img-fluid border col-md-12" style="top:50%;"></a>
						}
						else
						{
							<a href="@Url.Content("~/Content/Images/NoImage.png")" class="image-popup"><img src="@Url.Content("~/Content/Images/NoImage.png")" class="img-fluid border col-md-12" style="top:50%;"></a>
						}
					</div>

					<div style="text-align: center;">
						<button type="button" class="col-lg-6 btn" onclick="location.href='@Url.Action("ChangeItemsPicture", "Admin", new { id = Model.Id })'" style="top:50%; margin-top: 5%">Change picture</button>
					</div>
				</div>

				<!-- Stars (evaluation) section starts here -->
				<div class="col-lg-6 pl-md-6 ftco-animate">

					<div class="rating d-flex">
						<p class="text-left mr-4">
							<a href="#" class="mr-2">5.0</a>
							<a href="#"><span class="ion-ios-star-outline"></span></a>
							<a href="#"><span class="ion-ios-star-outline"></span></a>
							<a href="#"><span class="ion-ios-star-outline"></span></a>
							<a href="#"><span class="ion-ios-star-outline"></span></a>
							<a href="#"><span class="ion-ios-star-outline"></span></a>
						</p>
						<p class="text-left mr-4">
							<a href="#" class="mr-2" style="color: #000;">100 <span style="color: #bbb;">Collected Rating On Item [Future Feature]</span></a>
						</p>
						<p class="text-left">
							<a href="#" class="mr-2" style="color: #000;">500 <span style="color: #bbb;">Amount Sold [Future Feature]</span></a>
						</p>
					</div>

					<div style="color:black" class="form-group">
						<b>@Html.LabelFor(model => model.Name, htmlAttributes: new { @style = "margin-bottom: 0.0rem" })</b>
						<div>
							@Html.EditorFor(model => model.Name, new { htmlAttributes = new { @class = "col-md-12", @style = "; padding-left: 5px" } })
							@Html.ValidationMessageFor(model => model.Name, "", new { @class = "text-danger" })
						</div>
					</div>

					<div style="color:black" class="form-group">
						<b>@Html.LabelFor(model => model.SKUCode, htmlAttributes: new { @style = "margin-bottom: 0.0rem" })</b>
						<div>
							@Html.EditorFor(model => model.SKUCode, new { htmlAttributes = new { @class = "col-md-6", @style = "padding-left: 5px" } })
							@Html.ValidationMessageFor(model => model.SKUCode, "", new { @class = "text-danger" })
						</div>
					</div>

					<div style="color:black" class="form-group">
						<b>@Html.LabelFor(model => model.Price, htmlAttributes: new { @style = "margin-bottom: 0.0rem;" })</b>
						<div>
							@Html.EditorFor(model => model.Price, new { htmlAttributes = new { @class = "col-md-6", @style = "; padding-left: 5px" } })
							@Html.ValidationMessageFor(model => model.Price, "", new { @class = "text-danger" })
						</div>
					</div>

					<div style="color:black; margin-bottom: 8%; height:100px" class="form-group">
						<b>@Html.LabelFor(model => model.Headline, htmlAttributes: new { @style = "margin-bottom: 0.0rem" })</b>
						<div>
							@Html.EditorFor(model => model.Headline, new { htmlAttributes = new { @class = "col-md-12", @style = "height:100px; padding-left: 5px" } })
							@Html.ValidationMessageFor(model => model.Headline, "", new { @class = "text-danger" })
						</div>
					</div>

					<div style="color:black; height:300px; margin-bottom: 8%;" class="form-group">
						<b>@Html.LabelFor(model => model.Description, htmlAttributes: new { @style = "margin-bottom: 0.0rem" })	</b>
						<div style="height:300px">
							@Html.EditorFor(model => model.Description, new { htmlAttributes = new { @class = "col-md-12", @style = "height:300px; padding-left: 5px" } })
							@Html.ValidationMessageFor(model => model.Description, "", new { @class = "text-danger" })
						</div>
					</div>

					<div class="form-group">
						<div>
							@Html.DropDownList("CategoryId", null, "Item has no Category", htmlAttributes: new { @class = "col-md-12", @onchange = "changeProperty()", @style = "height:50px; padding-left: 5px" })
						</div>

						<div id="ItemProperties" class="input-group" style="color:black;">
							@Html.EditorFor(model => model.ItemProperties, new { htmlAttributes = new { @class = "border", @style = "color:black" } })
						</div>

					</div>

					<div class="rating d-flex">
						<button type="submit" class="btn" value="save" onclick="location.href= '@Url.Action("ItemInformation", new { id = Model.Id })'">Save Item</button>
						<button type="button" class="btn" onclick="location.href = '@Url.Action("ItemInformation", new { id = Model.Id })'" style="margin-left: 20px">Go back</button>
					</div>

				</div>
			</div>
		</div>
	}

</body>

<script src="/Content/js/jquery.min.js"></script>
<script src="/Content/js/jquery-migrate-3.0.1.min.js"></script>
<script src="/Content/js/popper.min.js"></script>
<script src="/Content/js/bootstrap.min.js"></script>
<script src="/Content/js/jquery.easing.1.3.js"></script>
<script src="/Content/js/jquery.waypoints.min.js"></script>
<script src="/Content/js/jquery.stellar.min.js"></script>
<script src="/Content/js/owl.carousel.min.js"></script>
<script src="/Content/js/jquery.magnific-popup.min.js"></script>
<script src="/Content/js/aos.js"></script>
<script src="/Content/js/jquery.animateNumber.min.js"></script>
<script src="/Content/js/bootstrap-datepicker.js"></script>
<script src="/Content/js/scrollax.min.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
<script src="/Content/js/google-map.js"></script>
<script src="/Content/js/main.js"></script>

<script type="text/javascript">
    function changeProperty() {
		var url = '@Url.Action("ItemProperties", "Admin")';
        $.ajax({
            type: "POST",
            url: url,
            data: $('#CategoryId').serialize(),
            cache: false,
            dataType: 'html',
            success: function (response) {
                $("#ItemProperties").html(response);
            }
        });
    }
</script>
